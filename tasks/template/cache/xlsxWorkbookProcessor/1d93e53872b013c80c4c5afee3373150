[{"flow_type":"template","flow_name":"lib_books","status":"released","rows":[{"name":"book_id","value":"who_took_my_shoe","exclude_from_translation":true},{"name":"module_id","value":"connect","exclude_from_translation":true},{"name":"book","value":"books","exclude_from_translation":true},{"name":"data","value":"@local.book","exclude_from_translation":true},{"name":"concat_book_id","value":"@local.data.@local.book_id","exclude_from_translation":true},{"name":"book_data","value":"@data.@local.concat_book_id","exclude_from_translation":true},{"name":"join","value":"_"},{"type":"title","name":"title","value":"My Favourite Books","condition":false},{"type":"begin_carousel","name":"carousel","condition":false,"parameter_list":"centred_slides: false;\nspace_between: 0;"},{"type":"begin_items","value":"@data.books","condition":false},{"value":"@data.books","condition":false},{"type":"end_items","condition":false},{"type":"end_carousel","condition":false},{"condition":false},{"type":"title","name":"title","value":"All Books","condition":false},{"condition":false,"hidden":"!@field.@item.favourite_field"},{"name":"answer_list","condition":false},{"name":"radio_grid_1","value":"all_levels"},{"type":"radio_button_grid","name":"radio_grid_1","condition":false,"parameter_list":"answer_list: @data.book_levels; \ngrid_width: 100%;\ngrid_gap: 16px","comments":"changed | emit:force_reprocess;"},{"type":"begin_display_grid","name":"grid_1","condition":"!(@local.radio_grid_1 == \"all_levels\")","parameter_list":"item_width: 160px;\nitem_border: none;\ngrid_width: 100%;\ngrid_gap: 16px;"},{"type":"begin_items","name":"books","value":"@data.books","parameter_list":"filter: @item.book_level == @local.radio_grid_1"},{"type":"begin_template","name":"book_button_@item.id","value":"book_button"},{"name":"book_id","value":"@item.id"},{"type":"end_template"},{"type":"end_items"},{"type":"end_display_grid"},{"type":"begin_display_grid","name":"grid_all","condition":"@local.radio_grid_1 == \"all_levels\"","parameter_list":"item_width: 160px;\nitem_border: none;\ngrid_width: 100%;\ngrid_gap: 16px;"},{"type":"begin_items","name":"books","value":"@data.books"},{"type":"begin_template","name":"book_button_@item.id","value":"book_button"},{"name":"book_id","value":"@item.id"},{"type":"end_template"},{"type":"end_items"},{"type":"end_display_grid"}],"_xlsxPath":"books/library_page.xlsx"},{"flow_type":"template","flow_name":"book_button","status":"released","rows":[{"name":"book_id","value":"who_took_my_shoe"},{"name":"book_concat","value":"books.@local.book_id"},{"name":"book_data","value":"@data.@local.book_concat"},{"name":"now","value":"@calc(timestamp())"},{"name":"click_history","value":"_click_history"},{"name":"click_history_field_name","value":"book_@local.book_data.id@local.click_history"},{"name":"click_history_value","value":"@fields.@local.click_history_field_name ;  @local.now","condition":"!!(@fields.@local.click_history_field_name)","exclude_from_translation":true},{"name":"click_history_value","value":"@local.now","condition":"!(@fields.@local.click_history_field_name)"},{"name":"toggle_history","value":"_favourite_history"},{"name":"toggle_history_field_name","value":"book_@local.book_data.id@local.toggle_history"},{"name":"toggle_history_value","value":"@fields.@local.toggle_history_field_name ;  @local.now","condition":"!!(@fields.@local.toggle_history_field_name)","exclude_from_translation":true},{"name":"toggle_history_value","value":"@local.now","condition":"!(@fields.@local.toggle_history_field_name)"},{"type":"begin_button","name":"button_@local.book_data.id","value":"@local.book_data.title","action_list":"click | go_to: book_cover_@local.book_data.id;\nclick | set_field: @local.click_history_field_name: @local.click_history_value","parameter_list":"variant: card-portrait;\nimage_asset: @local.book_data.image_cover_asset;"},{"type":"toggle_bar","name":"toggle_bar_@local.book_data.id","value":"@fields.@local.book_data.favourite_field","action_list":"changed | set_field: @local.book_data.favourite_field: this.value;\nchanged | set_field: @local.toggle_history_field_name: @local.toggle_history_value","condition":false,"parameter_list":"variant: icon;\nicon_true_asset: images/icons/heart_filled.svg;\nicon_false_asset: images/icons/heart.svg;"},{"type":"end_button"}],"_xlsxPath":"books/library_page.xlsx"}]
